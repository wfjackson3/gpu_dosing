<h1>Find parts kits</h1>
<p>This page needs filled in with a form and backed up by search logic to find parts.</p>

<%= form_tag(find_path, :method => "get") do %>
<table>
  <tr>
    <td><div class="field">
      <%= label :line_id, "Line" %><br />
      <%= collection_select :line,
                            :line_id,
                            Line.all,
                            :id,
                            :name,
                            {:include_blank => true,
                              :selected => (if params[:line].nil? then :default else params[:line][:line_id].to_i end)} %>
    </div></td>
    <td><div class="field">
      <%= label :size_id, "Size" %><br />
      <%= collection_select :size,
                            :size_id,
                            Size.all,
                            :id,
                            :flow_pressure,
                            {:selected => (if params[:size].nil? then :default else params[:size][:size_id].to_i end)} %>
    </div></td>
    <td><div class="field">
      <%= label :head_id, "Head" %><br />
      <%= collection_select :head,
                            :head_id,
                            Head.all,
                            :id,
                            :material,
                            {:include_blank => true,
                              :selected => (if params[:head].nil? then :default else params[:head][:head_id].to_i end)} %>
    </div></td>
    <td><div class="field">
      <%= label :gasket_id, "Gasket" %><br />
      <%= collection_select :gasket,
                            :gasket_id,
                            Gasket.all,
                            :id,
                            :material,
                            {:include_blank => true,
                              :selected => (if params[:gasket].nil? then :default else params[:gasket][:gasket_id].to_i end)} %>
    </div></td>
    <td><div class="field">
      <%= label :ball_id, "Ball" %><br />
      <%= collection_select :ball,
                            :ball_id,
                            Ball.all,
                            :id,
                            :material,
                            {:include_blank => true,
                              :selected => (if params[:ball].nil? then :default else params[:ball][:ball_id].to_i end)} %>
    </div></td>
  </tr>
</table>
<div class="actions">
  <%= submit_tag "Search", :name => nil %>
</div>
<% end %>

<div>
  <h2>Valve kit</h2>
  <% @valve.each do |kit| %>
    <%= kit.partnumber %> | <%= kit.valvegroup.description %><br />
  <% end %>
  <%= @numb %>
  <%= render 'kit' %>
</div>
